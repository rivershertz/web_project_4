!function(){"use strict";class e{constructor(e,t){this._currentForm=t,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputs=Array.from(this._currentForm.querySelectorAll(this._inputSelector)),this._submitButton=this._currentForm.querySelector(this._submitButtonSelector)}resetValidation(){this._inputs.forEach((e=>{this._hideInputError(e)}))}_showInputError(e,t){const s=this._currentForm.querySelector(".".concat(e.id,"-input-error"));e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._currentForm.querySelector(".".concat(e.id,"-input-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_toggleInputError(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputs.some((e=>!e.validity.valid))}toggleSubmitButton(){this._hasInvalidInput()?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputs.forEach((e=>{e.addEventListener("input",(()=>{this._toggleInputError(e),this.toggleSubmitButton()}))}))}enableValidation(){this._currentForm.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class s{constructor(e,s,r,o,i,n){t(this,"isLiked",(()=>this._likes.some((e=>e._id===this._userId)))),t(this,"removeCard",(()=>{this._element.remove(),this._element=null})),this._userId=n,this._text=e.name,this._link=e.link,this._id=e._id,this._likes=e.likes,this._templateSelector=s,this._handleCardClick=r,this._handleCardRemove=o,this._handleLikes=i,this._ownerId=e.owner._id,this._element=this._getTemplate(),this._removeButton=this._element.querySelector(".photos__remove"),this._likesCounter=this._element.querySelector(".photos__like-counter")}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".photos__card").cloneNode(!0)}generateCard(){const e=this._element.querySelector(".photos__title"),t=this._element.querySelector(".photos__img");return t.src=this._link,t.alt="picture of ".concat(this._text),e.textContent=this._text,this._userId!==this._ownerId&&(this._removeButton.style.display="none"),this._renderLikes(),this._setEventListeners(),this._element}_setEventListeners(){const e=this._element.querySelector(".photos__like"),t=this._element.querySelector(".photos__img");e.addEventListener("click",(()=>this._handleLikes(this))),this._removeButton.addEventListener("click",(()=>this._handleCardRemove(this._id))),t.addEventListener("click",(()=>{this._handleCardClick(this._text,this._link)}))}updateLikes(e){this._likes=e,this._renderLikes()}_renderLikes(){this._likesCounter.textContent=this._likes.length,this.isLiked()?this._element.querySelector(".photos__like").classList.add("photos__like_active"):this._element.querySelector(".photos__like").classList.remove("photos__like_active")}}const r=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject(e.statusText)));function o(e,t,s){t.querySelector(".popup__save").textContent=e?s:"Saving..."}class i{constructor(e){var t,s;s=e=>{"Escape"===e.code&&this.close()},(t="_handleEscClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popup=document.querySelector(e),this.close=this.close.bind(this)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.querySelector(".popup__close").addEventListener("click",this.close),this._popup.addEventListener("mousedown",(e=>{e.target.matches(".popup")&&this.close()}))}}class n extends i{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form")}_getInputValues(){const e=Array.from(this._popup.querySelectorAll(".popup__input")),t={};return e.forEach((e=>{t[e.id]=e.value})),t}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this._getInputValues())}))}}document.querySelector(".popup_image-popup");const a=document.querySelector(".popup_new-image"),l=document.querySelector(".popup_edit-pic"),c=document.querySelector(".popup_profile"),u=document.querySelector(".popup_delete"),_=(document.querySelector(".profile__name"),document.querySelector(".profile__subtitle"),document.querySelector(".profile__edit")),p=document.querySelector(".profile__add"),h=document.querySelector(".popup__name"),d=document.querySelector(".popup__about"),m=(document.querySelector(".popup__img_image-popup"),document.querySelector(".popup__title_image-popup"),document.querySelector(".photos__list")),v=document.querySelector(".profile__pic"),S={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};let b;const y=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return r("".concat(this._baseUrl,"/cards"),{headers:this._headers})}getUserInfo(){return r("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}setUserInfo(e,t){return r("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}setUserAvatar(e){return r("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}createCard(e){let{imageName:t,link:s}=e;return r("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})})}getLikes(e){return r("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers})}deleteCard(e){return r("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}addLike(e){return r("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}removeLike(e){return r("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"47fa02be-b6a6-415a-ad1a-fb244489b961","Content-Type":"application/json"}});Promise.all([y.getUserInfo(),y.getInitialCards()]).then((e=>{let[t,s]=e;b=t._id,B.renderItems(s),E.setUserInfo(t),E.setUserPic(t.avatar)})).catch(console.log);const f=new e(S,a);f.enableValidation();const g=new e(S,c);g.enableValidation();const L=new e(S,l);L.enableValidation();const E=new class{constructor(e){let{nameSelector:t,aboutSelector:s,avatarSelector:r}=e;this._name=document.querySelector(t),this._about=document.querySelector(s),this._avatar=document.querySelector(r)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}setUserPic(e){this._avatar.style.background="url("+e+")"}}({nameSelector:".profile__name",aboutSelector:".profile__subtitle",avatarSelector:".profile__pic"}),k=new class extends i{open(e,t){const s=this._popup.querySelector(".popup__img_image-popup"),r=this._popup.querySelector(".popup__title_image-popup");s.src=t,s.alt="picture of ".concat(e),r.textContent=e,super.open()}}(".popup_image-popup");k.setEventListeners();const C=new n(".popup_profile",(e=>{o(!1,c),y.setUserInfo(e.profileName,e.profileAbout).then((e=>{E.setUserInfo(e),C.close(),c.querySelector(".popup__form").reset()})).catch((e=>{console.log(e)})).finally((()=>{o(!0,c,"Save")}))}));C.setEventListeners();const q=new n(".popup_edit-pic",(e=>{o(!1,l),y.setUserAvatar(e.editLink).then((e=>{E.setUserPic(e.avatar),q.close(),l.querySelector(".popup__form").reset()})).catch(console.log).finally((()=>{o(!0,l,"Save")}))}));q.setEventListeners();const I=new n(".popup_new-image",(e=>{o(!1,a),y.createCard(e).then((e=>{const t=w(e);B.addItem(t.generateCard()),I.close(),a.querySelector(".popup__form").reset()})).catch(console.log).finally((()=>{o(!0,a,"Create")}))}));I.setEventListeners();const U=new class extends i{setAction(e){this._handleConfirm=e}setEventListeners(){super.setEventListeners(),this._popup.querySelector(".popup__form").addEventListener("submit",(e=>{e.preventDefault(),this._handleConfirm()}))}}(".popup_delete");U.setEventListeners(),_.addEventListener("click",(()=>{g.toggleSubmitButton(),g.resetValidation(),(()=>{const e=E.getUserInfo();h.value=e.name,d.value=e.about})(),C.open()})),p.addEventListener("click",(()=>{f.resetValidation(),f.toggleSubmitButton(),I.open()})),v.addEventListener("click",(()=>{L.toggleSubmitButton(),L.resetValidation(),q.open()}));const w=e=>{const t=new s(e,"#template",((e,t)=>{k.open(e,t)}),(e=>{U.open(),U.setAction((()=>{o(!1,u),y.deleteCard(e).then((e=>{t.removeCard(),U.close()})).catch(console.log).finally((()=>{o(!0,u,"Yes")}))}))}),(e=>{e.isLiked()?y.removeLike(e._id).then((t=>{e.updateLikes(t.likes)})).catch(console.log):y.addLike(e._id).then((t=>{e.updateLikes(t.likes)})).catch(console.log)}),b);return t},B=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.forEach(this._renderer)}addItem(e){this._container.prepend(e)}}({renderer:e=>{((e,t)=>{const s=w(e);t.prepend(s.generateCard())})(e,m)}},".photos__list")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFDLE9BVXJCakgsR0FFRixPQUFPK0ksR0FPSHBDLEVBQWUsSUtwTU4sTUFDWGpLLFlBQVksRUFBWXVNLEdBQW1CLElBQS9CLFNBQUNDLEdBQThCLEVBQ3ZDck0sS0FBS3NNLFVBQVlELEVBQ2pCck0sS0FBS3VNLFdBQWFoSSxTQUFTcEQsY0FBY2lMLEdBRzdDckMsWUFBWXlDLEdBQ1JBLEVBQU1uTCxRQUFRckIsS0FBS3NNLFdBR3ZCWCxRQUFRYyxHQUNKek0sS0FBS3VNLFdBQVdHLFFBQVFELEtMMEw5QixDQUNFSixTQUFXdkosSUFQSSxFQUFDQSxFQUFNNkosS0FDeEIsTUFBTWpCLEVBQU9oSCxFQUFhNUIsR0FDMUI2SixFQUFnQkQsUUFBUWhCLEVBQUtoSCxpQkFNekJrSSxDQUFXOUosRUFBTW9GLEtBR3JCLGlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9jdXJyZW50Rm9ybSA9IGZvcm07XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBzZXR0aW5ncy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9jdXJyZW50Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2N1cnJlbnRGb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9jdXJyZW50Rm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0taW5wdXQtZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9jdXJyZW50Rm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0taW5wdXQtZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dHMuc29tZSgoaW5wdXQpID0+IHsgXHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7IFxyXG4gICAgfSk7IFxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9jdXJyZW50Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcclxuICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgIGhhbmRsZUNhcmRSZW1vdmUsXHJcbiAgICBoYW5kbGVMaWtlcyxcclxuICAgIHVzZXJJZFxyXG4gICkge1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fdGV4dCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkUmVtb3ZlID0gaGFuZGxlQ2FyZFJlbW92ZTtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VzID0gaGFuZGxlTGlrZXM7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX3JlbW92ZVwiKTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2xpa2UtY291bnRlclwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2NhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICBjb25zdCBpbWFnZVRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19fdGl0bGVcIik7XHJcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19pbWdcIik7XHJcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcclxuICAgIGltYWdlRWxlbWVudC5hbHQgPSBgcGljdHVyZSBvZiAke3RoaXMuX3RleHR9YDtcclxuICAgIGltYWdlVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl9yZW1vdmVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19saWtlXCIpO1xyXG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19faW1nXCIpO1xyXG4gICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZXModGhpcykpO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkUmVtb3ZlKHRoaXMuX2lkKVxyXG4gICAgKTtcclxuICAgIGltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fdGV4dCwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQgPSAoKSA9PiB0aGlzLl9saWtlcy5zb21lKHVzZXIgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcblxyXG4gIHJlbW92ZUNhcmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuXHJcbiAgX3JlbmRlckxpa2VzKCkge1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgaWYgKCF0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19saWtlXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJwaG90b3NfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19fbGlrZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwicGhvdG9zX19saWtlX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IHsgcmVhcXVyaW5nUmVxdWVzdCwgY2xvc2VCeUVzY2FwZSwgYWRkUmVtb3RlQ2xpY2tMaXN0ZW5lcnMsIHJlbmRlclNhdmluZyB9O1xyXG5cclxuY29uc3QgY2xvc2VCeUVzY2FwZSA9IChldnQpID0+IHtcclxuICBpZiAoZXZ0LmNvZGUgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XHJcbiAgICBjbG9zZVBvcHVwKG9wZW5lZFBvcHVwKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBhZGRSZW1vdGVDbGlja0xpc3RlbmVycyA9IChwb3B1cExpc3QpID0+IHtcclxuICBwb3B1cExpc3QuZm9yRWFjaCgocG9wdXApID0+IHtcclxuICAgIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5tYXRjaGVzKFwiLnBvcHVwXCIpKSB7XHJcbiAgICAgICAgY2xvc2VQb3B1cChwb3B1cCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcmVhcXVyaW5nUmVxdWVzdCA9ICh1cmwsIGhlYWRlcnMpID0+XHJcbiAgZmV0Y2godXJsLCBoZWFkZXJzKVxyXG4gICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpKVxyXG5cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclNhdmluZyhpc1NhdmVkLCBmb3JtLCBidXR0b25UZXh0KSB7XHJcbiAgY29uc3QgYnV0dG9uID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zYXZlXCIpXHJcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gaXNTYXZlZCA/IGJ1dHRvblRleHQgOiBcIlNhdmluZy4uLlwiXHJcbiAgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5jb2RlID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKVxyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0Lm1hdGNoZXMoXCIucG9wdXBcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0RnVuY3Rpb24pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gc3VibWl0RnVuY3Rpb247XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSB7fTtcclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBmb3JtRGF0YVtpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQge1xyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgaW1hZ2VQb3B1cENvbnRhaW5lcixcclxuICBwb3B1cEltYWdlSW1nLFxyXG4gIHBvcHVwSW1hZ2VUaXRsZSxcclxuICBpbWFnZUZvcm1Db250YWluZXIsXHJcbiAgZWRpdEJ1dHRvbixcclxuICBhZGRCdXR0b24sXHJcbiAgcHJvZmlsZUZvcm1Db250YWluZXIsXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0QWJvdXQsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZUFib3V0LFxyXG4gIHBob3Rvc0xpc3QsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBwcm9maWxlUGljRm9ybUNvbnRhaW5lcixcclxuICBkZWxldGVGb3JtQ29udGFpbmVyXHJcbn07XHJcblxyXG5jb25zdCBpbWFnZVBvcHVwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9pbWFnZS1wb3B1cFwiKTtcclxuY29uc3QgaW1hZ2VGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9uZXctaW1hZ2VcIik7XHJcbmNvbnN0IHByb2ZpbGVQaWNGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9lZGl0LXBpY1wiKTtcclxuY29uc3QgcHJvZmlsZUZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Byb2ZpbGVcIik7XHJcbmNvbnN0IGRlbGV0ZUZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2RlbGV0ZVwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkXCIpO1xyXG5jb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19uYW1lXCIpO1xyXG5jb25zdCBpbnB1dEFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYWJvdXRcIik7XHJcbmNvbnN0IHBvcHVwSW1hZ2VJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWdfaW1hZ2UtcG9wdXBcIik7XHJcbmNvbnN0IHBvcHVwSW1hZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlX2ltYWdlLXBvcHVwXCIpO1xyXG5jb25zdCBwaG90b3NMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2xpc3RcIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY1wiKTtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZVwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3NhdmVfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXHJcbn07IiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IHJlbmRlclNhdmluZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgaW1hZ2VGb3JtQ29udGFpbmVyLFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgYWRkQnV0dG9uLFxyXG4gIHBob3Rvc0xpc3QsXHJcbiAgcHJvZmlsZUZvcm1Db250YWluZXIsXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0QWJvdXQsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBwcm9maWxlUGljRm9ybUNvbnRhaW5lcixcclxuICBkZWxldGVGb3JtQ29udGFpbmVyLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmxldCB1c2VySWQ7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjQ3ZmEwMmJlLWI2YTYtNDE1YS1hZDFhLWZiMjQ0NDg5Yjk2MVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZERhdGFdKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBjYXJkc1NlY3Rpb24ucmVuZGVySXRlbXMoY2FyZERhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlclBpYyh1c2VyRGF0YS5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxuXHJcbmNvbnN0IGFkZEltYWdlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgaW1hZ2VGb3JtQ29udGFpbmVyXHJcbik7XHJcbmFkZEltYWdlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgcHJvZmlsZUZvcm1Db250YWluZXJcclxuKTtcclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgcHJvZmlsZVBpY0Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHByb2ZpbGVQaWNGb3JtQ29udGFpbmVyXHJcbik7XHJcbnByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBhYm91dFNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19waWNcIixcclxufSk7XHJcblxyXG5jb25zdCBpbWFnZU1vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2ltYWdlLXBvcHVwXCIpO1xyXG5pbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBlZGl0TW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9wcm9maWxlXCIsIChmb3JtRGF0YSkgPT4ge1xyXG4gIHJlbmRlclNhdmluZyhmYWxzZSwgcHJvZmlsZUZvcm1Db250YWluZXIpO1xyXG4gIGFwaVxyXG4gICAgLnNldFVzZXJJbmZvKGZvcm1EYXRhLnByb2ZpbGVOYW1lLCBmb3JtRGF0YS5wcm9maWxlQWJvdXQpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIGVkaXRNb2RhbC5jbG9zZSgpO1xyXG4gICAgICBwcm9maWxlRm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpLnJlc2V0KCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHJlbmRlclNhdmluZyh0cnVlLCBwcm9maWxlRm9ybUNvbnRhaW5lciwgJ1NhdmUnKTtcclxuICAgIH0pO1xyXG59KTtcclxuZWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBlZGl0UGljdHVyZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZWRpdC1waWNcIiwgKGZvcm1EYXRhKSA9PiB7XHJcbiAgcmVuZGVyU2F2aW5nKGZhbHNlLCBwcm9maWxlUGljRm9ybUNvbnRhaW5lcik7XHJcbiAgYXBpXHJcbiAgICAuc2V0VXNlckF2YXRhcihmb3JtRGF0YS5lZGl0TGluaylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlclBpYyhyZXMuYXZhdGFyKTtcclxuICAgICAgZWRpdFBpY3R1cmVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICBwcm9maWxlUGljRm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpLnJlc2V0KCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICByZW5kZXJTYXZpbmcodHJ1ZSwgcHJvZmlsZVBpY0Zvcm1Db250YWluZXIsICdTYXZlJyk7XHJcbiAgICB9KTtcclxufSk7XHJcbmVkaXRQaWN0dXJlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZENhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX25ldy1pbWFnZVwiLCAoZm9ybURhdGEpID0+IHtcclxuICByZW5kZXJTYXZpbmcoZmFsc2UsIGltYWdlRm9ybUNvbnRhaW5lcik7XHJcbiAgYXBpXHJcbiAgICAuY3JlYXRlQ2FyZChmb3JtRGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGdlbmVyYXRlQ2FyZChyZXMpO1xyXG4gICAgICBjYXJkc1NlY3Rpb24uYWRkSXRlbShjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcclxuICAgICAgYWRkQ2FyZE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgIGltYWdlRm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpLnJlc2V0KCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICByZW5kZXJTYXZpbmcodHJ1ZSwgaW1hZ2VGb3JtQ29udGFpbmVyLCAnQ3JlYXRlJyk7XHJcbiAgICB9KTtcclxufSk7XHJcbmFkZENhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY29uZmlybURlbGV0ZU1vZGFsID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIi5wb3B1cF9kZWxldGVcIik7XHJcbmNvbmZpcm1EZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgZmlsbFByb2ZpbGVGb3JtID0gKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJQcm9maWxlSW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXROYW1lLnZhbHVlID0gdXNlclByb2ZpbGVJbmZvLm5hbWU7XHJcbiAgaW5wdXRBYm91dC52YWx1ZSA9IHVzZXJQcm9maWxlSW5mby5hYm91dDtcclxufTtcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRvci50b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBmaWxsUHJvZmlsZUZvcm0oKTtcclxuICBlZGl0TW9kYWwub3BlbigpO1xyXG59KTtcclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkSW1hZ2VGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGFkZEltYWdlRm9ybVZhbGlkYXRvci50b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICBhZGRDYXJkTW9kYWwub3BlbigpO1xyXG59KTtcclxucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yLnRvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIHByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQaWN0dXJlTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IGdlbmVyYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGF0YSxcclxuICAgIFwiI3RlbXBsYXRlXCIsXHJcbiAgICAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgICBpbWFnZU1vZGFsLm9wZW4obmFtZSwgbGluayk7XHJcbiAgICB9LFxyXG4gICAgKGlkKSA9PiB7XHJcbiAgICAgIGNvbmZpcm1EZWxldGVNb2RhbC5vcGVuKCk7XHJcbiAgICAgIGNvbmZpcm1EZWxldGVNb2RhbC5zZXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIHJlbmRlclNhdmluZyhmYWxzZSwgZGVsZXRlRm9ybUNvbnRhaW5lcik7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuZGVsZXRlQ2FyZChpZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgbmV3Q2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICAgIGNvbmZpcm1EZWxldGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgcmVuZGVyU2F2aW5nKHRydWUsIGRlbGV0ZUZvcm1Db250YWluZXIsICdZZXMnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAoY2FyZCkgPT4ge1xyXG4gICAgICBpZiAoIWNhcmQuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuYWRkTGlrZShjYXJkLl9pZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAucmVtb3ZlTGlrZShjYXJkLl9pZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1c2VySWRcclxuICApO1xyXG4gIHJldHVybiBuZXdDYXJkO1xyXG59O1xyXG5jb25zdCByZW5kZXJDYXJkID0gKGRhdGEsIHBob3Rvc0NvbnRhaW5lcikgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBnZW5lcmF0ZUNhcmQoZGF0YSk7XHJcbiAgcGhvdG9zQ29udGFpbmVyLnByZXBlbmQoY2FyZC5nZW5lcmF0ZUNhcmQoKSk7XHJcbn07XHJcblxyXG5jb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcclxuICAgICAgcmVuZGVyQ2FyZChkYXRhLCBwaG90b3NMaXN0KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5waG90b3NfX2xpc3RcIlxyXG4pO1xyXG4iLCJpbXBvcnQge3JlYXF1cmluZ1JlcXVlc3R9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiByZWFxdXJpbmdSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiByZWFxdXJpbmdSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIHJlYXF1cmluZ1JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGxpbmspIHtcclxuICAgIHJldHVybiByZWFxdXJpbmdSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGxpbmtcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhcmQoe2ltYWdlTmFtZSwgbGlua30pIHtcclxuICAgIHJldHVybiByZWFxdXJpbmdSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogaW1hZ2VOYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRMaWtlcyhjYXJkSWQpIHtcclxuICAgIHJldHVybiByZWFxdXJpbmdSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiByZWFxdXJpbmdSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gcmVhcXVyaW5nUmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHJlYXF1cmluZ1JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7bmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmFib3V0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJQaWMobGluaykge1xyXG4gICAgICAgIHRoaXMuX2F2YXRhci5zdHlsZS5iYWNrZ3JvdW5kID0gJ3VybCgnK2xpbmsrJyknO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nX2ltYWdlLXBvcHVwJyk7XHJcbiAgICBjb25zdCBjYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX190aXRsZV9pbWFnZS1wb3B1cCcpO1xyXG5cclxuICAgIGltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xyXG4gICAgaW1hZ2VFbGVtZW50LmFsdCA9IGBwaWN0dXJlIG9mICR7bmFtZX1gO1xyXG4gICAgY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzICBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlQ29uZmlybSA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDb25maXJtKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH07XHJcblxyXG4gICAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcclxuICAgIH07XHJcblxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9O1xyXG59Il0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybSIsInRoaXMiLCJfY3VycmVudEZvcm0iLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJpbnB1dCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsImVycm9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsIl90b2dnbGVJbnB1dEVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJ0b2dnbGVTdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZFJlbW92ZSIsImhhbmRsZUxpa2VzIiwidXNlcklkIiwiX2xpa2VzIiwidXNlciIsIl9pZCIsIl91c2VySWQiLCJfZWxlbWVudCIsIl90ZXh0IiwibmFtZSIsIl9saW5rIiwibGluayIsImxpa2VzIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmRSZW1vdmUiLCJfaGFuZGxlTGlrZXMiLCJfb3duZXJJZCIsIm93bmVyIiwiX2dldFRlbXBsYXRlIiwiX3JlbW92ZUJ1dHRvbiIsIl9saWtlc0NvdW50ZXIiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJpbWFnZVRpdGxlIiwiaW1hZ2VFbGVtZW50Iiwic3JjIiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwiX3JlbmRlckxpa2VzIiwibGlrZUJ1dHRvbiIsInVwZGF0ZUxpa2VzIiwibGVuZ3RoIiwiaXNMaWtlZCIsInJlYXF1cmluZ1JlcXVlc3QiLCJ1cmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJyZW5kZXJTYXZpbmciLCJpc1NhdmVkIiwiYnV0dG9uVGV4dCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImNvZGUiLCJjbG9zZSIsIl9wb3B1cCIsImJpbmQiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwibWF0Y2hlcyIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jdGlvbiIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9mb3JtIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRzIiwiZm9ybURhdGEiLCJ2YWx1ZSIsImltYWdlRm9ybUNvbnRhaW5lciIsInByb2ZpbGVQaWNGb3JtQ29udGFpbmVyIiwicHJvZmlsZUZvcm1Db250YWluZXIiLCJkZWxldGVGb3JtQ29udGFpbmVyIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJwaG90b3NMaXN0IiwicHJvZmlsZUF2YXRhciIsInZhbGlkYXRpb25Db25maWciLCJhcGkiLCJiYXNlVXJsIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VXNlckF2YXRhciIsImF2YXRhciIsImNyZWF0ZUNhcmQiLCJpbWFnZU5hbWUiLCJnZXRMaWtlcyIsImNhcmRJZCIsImRlbGV0ZUNhcmQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmREYXRhIiwiY2FyZHNTZWN0aW9uIiwicmVuZGVySXRlbXMiLCJ1c2VySW5mbyIsInNldFVzZXJQaWMiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJhZGRJbWFnZUZvcm1WYWxpZGF0b3IiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsInByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWUiLCJfYWJvdXQiLCJfYXZhdGFyIiwiYmFja2dyb3VuZCIsImltYWdlTW9kYWwiLCJjYXB0aW9uIiwiZWRpdE1vZGFsIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlQWJvdXQiLCJyZXNldCIsImVyciIsImZpbmFsbHkiLCJlZGl0UGljdHVyZU1vZGFsIiwiZWRpdExpbmsiLCJhZGRDYXJkTW9kYWwiLCJjYXJkIiwiYWRkSXRlbSIsImNvbmZpcm1EZWxldGVNb2RhbCIsInNldEFjdGlvbiIsImFjdGlvbiIsIl9oYW5kbGVDb25maXJtIiwidXNlclByb2ZpbGVJbmZvIiwiZmlsbFByb2ZpbGVGb3JtIiwibmV3Q2FyZCIsInJlbW92ZUNhcmQiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZWxlbWVudCIsInByZXBlbmQiLCJwaG90b3NDb250YWluZXIiLCJyZW5kZXJDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==